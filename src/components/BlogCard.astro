---
const { title, url, html, pubDate, description } = Astro.props;

function removeTags(htmlContent: string | undefined) {
  if (htmlContent === null || htmlContent === "") return false;
  else htmlContent = htmlContent?.toString();

  return htmlContent?.replace(/(<([^>]+)>)/gi, "");
}
---

<div class="">
  <div class="mb-10 space-y-2">
    <h2 class="text-lg md:text-xl">
      <a
        class="hover:underline hover:decoration-wavy hover:decoration-from-font hover:underline-offset-2"
        href={url}
      >
        {title}
      </a>
    </h2>

    <div class="flex items-center space-x-2 text-sm opacity-80">
      <span>
        {new Date(pubDate).toDateString()}
      </span>
      <span class="">&bull;</span>
      <span class="">8 minutes read</span>
    </div>

    {
      description ? (
        <p class="line-clamp-3 text-sm opacity-80 md:text-base">
          {description}
        </p>
      ) : (
        <p class="line-clamp-3 text-sm opacity-80 md:text-base">
          {removeTags(html)}
        </p>
      )
    }
  </div>
</div>
